#!/bin/bash

trash() {
    if [ ! -z "$1" ]; then
        mv $1 ~/.Trash/
    else
        echo "Empty input, not trashing anything."
    fi
}

randomstring() {
    if [ -z "$1" ]; then
        LENGTH=24
    else
        LENGTH=$1
    fi
    cat /dev/urandom | env LC_CTYPE=C tr -dc a-zA-Z0-9 | head -c ${LENGTH}; echo
}

dm() {
    if [ -z "$1" ]; then
        MACHINE_NAME=default
    else
        MACHINE_NAME=$1
    fi
    echo "Setting up docker-machine environment for machine: ${MACHINE_NAME}"
    eval $(docker-machine env ${MACHINE_NAME})
}

geoip() {
    if [ -z "$1" ]; then
        echo "Must supply IP address"
    else
        curl -s "https://www.maxmind.com/geoip/v2.1/city/${1}?use-downloadable-db=1&demo=1" | python -c "import sys; import json; readin = sys.stdin.readlines(); payload = json.loads(readin[0]); print json.dumps(payload, indent=4, separators=(',', ': '))"
    fi
}
